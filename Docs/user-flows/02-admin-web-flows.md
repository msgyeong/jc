# 관리자 웹 유저 플로우

생성일: 2026-01-19

본 문서는 **최고 관리자** 관점의 관리자 웹 사용자 플로우를 정의한다.

- 기준 문서: `../prd/08-design.md`, `../admin-web/`
- 화면 매핑: `../admin-web/01-screens.md`

---

## UF-AW-001 최고 관리자 로그인

### 플로우 개요
최고 관리자가 관리자 웹에 로그인하는 과정

### 진입 경로
관리자 웹 진입 → 로그인 화면

### 관련 화면
- AW-001 (관리자 웹 로그인)

### 단계별 흐름
1. 관리자 웹 접근 시 인증 상태 확인
2. 미인증 사용자: 로그인 화면으로 이동
3. 아이디 입력 (`manager_###`)
4. 비밀번호 입력
5. 로그인 버튼 선택
6. 인증 확인
   - 성공: AW-002 (가입 승인 목록)로 이동
   - 실패: 오류 표시 후 입력 유지

### 인증 정책
- 최고 관리자 계정(`manager_###`)만 접근 가능
- 인증되지 않은 사용자는 모든 관리자 웹 화면 접근 차단

---

## UF-AW-002 가입 승인 처리

### 플로우 개요
가입 대기 회원을 승인 또는 거절하는 과정

### 진입 경로
로그인 성공 → 가입 승인 목록

### 관련 화면
- AW-002 (가입 승인 목록)

### 단계별 흐름
1. 로그인 성공 후 AW-002 (가입 승인 목록) 화면 진입
2. 가입 대기 회원 목록 조회
3. 가입 대기 회원 선택
4. 승인 또는 거절 선택
   - 승인: `is_approved = true`로 변경
   - 거절: `is_approved = false`, `rejection_reason` 입력
5. 상태 반영 및 저장
6. 목록에 즉시 반영

### 거절 처리
- 거절 시 거절 사유 입력 (필수)
- 거절 사유는 회원에게 노출될 수 있으므로 (앱 로그인 차단 시) 정중한 톤 유지

---

## UF-AW-003 회원 정보 수정 및 권한 부여

### 플로우 개요
회원 정보를 수정하고 직책/권한을 부여·회수하는 과정

### 진입 경로
회원 목록 → 회원 상세

### 관련 화면
- AW-003 (회원 목록)
- AW-004 (회원 상세)
- AW-005 (권한/직책 관리)

### 단계별 흐름
1. AW-003 (회원 목록) 화면 진입
2. 회원 검색/필터 (이름, 기수, 소속 등)
3. 회원 선택
4. AW-004 (회원 상세) 화면 진입
5. 회원 정보 수정 (관리자 전용 필드 포함)
   - 기본 정보 수정
   - 관리자 전용 필드 수정 (소속 JC, JC 직책, 연수, 표창, 국제대회 참가, JC경력 등)
   - 교육 이력 입력
6. 직책/권한 부여·회수 (AW-005)
   - 직책 설정
   - 권한 부여/해제 (공지 작성, 일정 등록, 게시글 삭제 등)
7. 저장 후 앱에 즉시 반영

### 변경 이력
- 변경 이력(누가/언제/무엇을 변경했는지)을 남기는 구조 권장 (구현 범위는 별도 확정)

---

## UF-AW-004 게시글/댓글 운영(삭제)

### 플로우 개요
게시글 또는 댓글을 운영 정책에 따라 삭제하는 과정

### 진입 경로
게시판 관리 → 게시글 목록

### 관련 화면
- AW-006 (게시판 관리)

### 단계별 흐름
1. AW-006 (게시판 관리) 화면 진입
2. 게시글 목록 조회/검색
3. 게시글 또는 댓글 선택
4. 삭제 실행 (확인 포함)
5. 삭제 처리 (`is_deleted = true`)
6. 앱에 즉시 반영 (목록/상세에서 비노출 또는 정책 적용)

---

## UF-AW-005 공지사항 작성/수정/삭제

### 플로우 개요
공지사항을 작성, 수정, 삭제하는 과정

### 진입 경로
공지사항 관리 → 공지 작성/수정

### 관련 화면
- AW-007 (공지사항 관리)

### 단계별 흐름
1. AW-007 (공지사항 관리) 화면 진입
2. 공지 작성/수정 선택
3. 공지 내용 입력
   - 제목 (필수)
   - 내용 (필수)
   - 참석자 조사 활성화 옵션 (선택)
   - 고정 공지 설정 (선택)
4. 작성/수정 완료
5. 앱 홈/공지 목록/공지 상세에 즉시 반영

### 삭제
1. 공지사항 목록에서 삭제 대상 선택
2. 삭제 실행 (확인 포함)
3. 삭제 처리 (`is_deleted = true`)
4. 앱에 즉시 반영

---

## UF-AW-006 일정 등록/수정/삭제

### 플로우 개요
일정을 등록, 수정, 삭제하는 과정

### 진입 경로
일정 관리 → 일정 등록/수정

### 관련 화면
- AW-008 (일정 관리)

### 단계별 흐름
1. AW-008 (일정 관리) 화면 진입
2. 일정 목록 조회 (캘린더 뷰 선택 가능)
3. 일정 등록/수정 선택
4. 일정 정보 입력
   - 제목 (필수)
   - 날짜 (필수)
   - 시간 (선택)
   - 장소 (선택)
   - 설명 (선택)
5. 등록/수정 완료
6. 앱 홈/일정 목록/일정 상세에 즉시 반영

### 삭제
1. 일정 목록에서 삭제 대상 선택
2. 삭제 실행 (확인 포함)
3. 삭제 처리 (`is_deleted = true`)
4. 앱에 즉시 반영

---

## UF-AW-007 관리자 계정 비밀번호 변경

### 플로우 개요
최고 관리자 계정의 비밀번호를 생성/변경하는 과정

### 진입 경로
관리자 계정 보안 → 비밀번호 변경

### 관련 화면
- AW-009 (관리자 계정 보안)

### 단계별 흐름
1. AW-009 (관리자 계정 보안) 화면 진입
2. 비밀번호 생성/변경 선택
3. 현재 비밀번호 입력 (변경 시)
4. 새 비밀번호 입력 (필수)
5. 새 비밀번호 확인 (필수)
6. 비밀번호 생성/변경 실행
7. 정책에 따라 즉시 적용 (재로그인 필요 여부는 정책으로 확정)

### 정책
- 관리자 웹에서 비밀번호 생성 및 변경을 통해 관리자 계정 보안을 생성/유지/관리 (`prd/04-non-functional.md` 기준)

---

## 플랫폼 간 연동

### 관리자 웹 → 앱 반영
- 회원 정보 수정 → 앱 프로필에 즉시 반영
- 공지사항 작성/수정/삭제 → 앱 홈/공지 목록에 즉시 반영
- 일정 등록/수정/삭제 → 앱 홈/일정 목록에 즉시 반영
- 권한 변경 → 앱에서 즉시 반영

### 데이터 동기화
- 앱과 동일한 Supabase 백엔드 사용
- 실시간 데이터 동기화

---

## 참고 문서

- 관리자 웹 개요: `../admin-web/00-overview.md`
- 관리자 웹 화면: `../admin-web/01-screens.md`
- 관리자 웹 기능: `../admin-web/03-features.md`
- 앱 플로우: `01-app-flows.md`
- 시스템/공통 플로우: `03-system-flows.md`
- 플로우 간 연동: `flows-mapping.md`
